Node.js, Express 설치와 셋팅

 

0:00 개발환경 셋팅

0:57 프로젝트 하나 생성

5:24 PORT가 뭐냐면 

 

 

 

개발환경 셋팅

 

개발환경 셋팅부터 해보도록 합시다. 

요즘은 맥북이나 윈도우나 별 차이없음 

 

 

1. nodejs 구글에 검색하면 맨처음에 뜨는 사이트가 있을텐데 

거기서 LTS 버전 다운받아서 설치까지 합시다. 

- 설치할 때 경로같은건 안만지는게 좋을 수도 있습니다. 

- 윈도우는 chocolatey 같은거 설치안해도 됩니다. 

 

 

 

2. 에디터가 하나 필요한데 VSCode 에디터 구글에 검색해서 설치합시다. 

 

 

 

 

 

프로젝트 생성은 

 

1. 코드짤 작업용 폴더를 하나 만들고

VSCode 에디터 켜서 상단 file - open folder 눌러서 에디터로 작업용 폴더를 오픈합시다.

 

 

 



 

2. server.js 파일을 하나 만들어줍시다. 

거기다가 서버코드짤 것임 

 

 

3. 에디터 상단 terminal 눌러서 터미널을 열 수 있는데

거기다가 npm init -y 를 입력합시다. 

package.json 파일 생성해주는 명령어입니다. 

 

 

 

4. 터미널에 npm install express를 입력합시다. 

express라는 라이브러리를 설치하는 명령어입니다. 

처음부터 쌩으로 코드짜면 너무 힘들기 때문에

사람들 많이 쓰는 express라는 라이브러리를 써서 서버를 만들 것임 

 

 

 

5. server.js 파일안에 서버코드 작성

 

const express = require('express')
const app = express()

app.listen(8080, () => {
    console.log('http://localhost:8080 에서 서버 실행중')
})

app.get('/', (요청, 응답) => {
  응답.send('반갑다')
}) 
이제 express 라이브러리를 이용해서 쉽게 서버를 만들어볼 수 있습니다.

대충 설명하자면

- 맨 위의 2줄은 설치한 라이브러리 불러오는 코드고 

- app.listen() 부분이 실제 서버 띄우라는 뜻입니다. 8080포트에 띄우라고 코드짰습니다. 

- app.get() 부분은 누군가 내 사이트 메인페이지 접속하면 '반갑다'라는 글자를 보내라는 뜻입니다. 

 

 

 

 

6. 코드짠걸 실행해봅시다.

실행해야 뭐가 동작하지 않겠습니까

터미널 열어서 node server.js 입력하면 server.js 파일이 실행되고

방금 만든 서버코드도 실행됩니다. 

진짠지 확인하고 싶으면 브라우저 열어서 http://localhost:8080으로 접속해봅시다. 

 

 

 

 

 

PORT가 뭐냐면 

 

여러분 컴퓨터는 항상 외부 컴퓨터와 통신할 수 있게 설계되어있습니다.

랜선만 꽂혀있으면 다른 사람이 여러분 컴퓨터로 접속을 할 수 있고 그렇습니다. 

웹서버도 실은 다른 사람 컴퓨터에 접속하는 행위랑 똑같습니다. 접속하면 웹페이지를 보여주는 것일 뿐

 

하지만 평상시엔 남들이 내 컴퓨터에 무단으로 접속을 할 수는 없습니다. 

여러분들이 컴퓨터에 구멍을 하나 뚫어놓아야 거기로 외부 사람들이 내 컴퓨터로 접속할 수 있습니다

구멍을 전문용어로 PORT라고 부르고 컴퓨터에는 내 맘대로 오픈할 수 있는 포트 구멍이 6만개 정도 있습니다.

 

그래서 아까 누가 내 컴퓨터에 접속할 수 있게 만들기 위해서 

8080번째 포트하나를 맘대로 연겁니다. 

이제 외부 컴퓨터가 여러분 아이피주소:8080이라고 브라우저 주소창에 입력하면

여러분 컴퓨터로 들어올 수 있게 되는 것입니다. 

(터미널에 ipconfig 치면 뜨는 그 아이피주소임)

 

참고로 열 수 있는 포트는 6만개 정도 있는데

컴퓨터가 이미 예약해서 쓰고 있는 포트번호들도 여러개 있습니다.

그런건 쓰면 안됩니다. 

 

 

 

 

터미널에서 npm으로 하는게 뭔가 안되면

 

 

1. npm : command not found 에러 

command not found 라는 에러가 터미널에 뜨면 

nodejs 설치가 아직 안되었거나 제대로 안된 것입니다. 

nodejs 삭제했다가 공식 홈페이지에서 LTS버전 제대로 다운받아서 설치합시다.

맥도 brew 어쩌구 그런걸로 설치하지 마시고 다운받읍시다. 

 

 

 

 

2. 맥북에서 권한, permission이 없다 어쩌구 에러 

 

npm ERR! syscall access
npm ERR! Error: EACCES: permission denied, access '/usr/local/lib/node_modules'
폴더 수정 권한이 없다고 에러를 띄우는 것입니다.

위의 에러는 /usr/local/lib/node_modules 라는 폴더에 수정권한을 주면 됩니다. 

 

sudo chown -R $USER 위에 에러 뜬 경로
터미널에 이거 입력해봅시다. 

 

sudo npm install express
그래도 안되면 npm으로 뭔가 할 때 그냥 sudo라는 단어를 앞에 붙여서 실행합시다.

맥북 비번 입력하라고 하면 입력합시다. 

 

 

 

 

3. 윈도우 Powershell에서 빨간글씨로 허가되지않은 스크립트, 보안오류가 뜸

시작 - 검색 - Powershell 검색 - 우클릭 - 관리자 권한으로 실행한 뒤

Set-ExecutionPolicy Unrestricted 라고 입력해보고

에디터 껐다 켭시다. 

 

 

 

 

4. 윈도우도 npm으로 뭐 할때 권한이 없다 어쩌구 에러  

그럼 powershell을 관리자 권한으로 열어서 실행하면 됩니다. 

 



 

▲ 직접 작업폴더로 들어가서 상단에서 파일 - PowerShell 열기 - 관리자권한으로 PowerShell 열기 눌러서 터미널을 엽니다.

이렇게 연 다음에 npm install 어쩌구가 되면 앞으로 터미널에서 뭐 하라고 하면 터미널 이렇게 켜서 사용합시다. 

 

 

이거 말고도 다른 에러가 있을 수 있어서 

에러메세지는 직접 구글 검색해보는게 빠릅니다. 